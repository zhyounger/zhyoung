<loading hidden="{{loadingHidden}}">æ­£åœ¨åŠ è½½...</loading>

<view class="container">
  <view class='top-view'>
    <text class='about-text'>ä¸€æš2016çº§ç§‘ç ”ğŸ¶ï¼Œå¸Œæœ›é¡ºåˆ©æ¯•ä¸š</text>
    <view class='about-contact-view'>
      <view class='about-contact'>
        <image class='about-contact-img' src='../../img/browser.png' />
        <text class='about-contact-text'>https://zhyoung.cn</text>
      </view>
      <view class='about-contact'>
        <image class='about-contact-img' src='../../img/email.png' />
        <text class='about-contact-text'>zhyoung@live.cn</text>
      </view>
    </view>
    <view class='message-top' bindtap='messageInput'>
      <view>
        <text class='message-title'>ç•™è¨€åŒº</text>
        <text class='message-count'>({{list.length}}):</text>
      </view>
      
      <view>
        <text class='message-btn'>ç‚¹æ­¤ç•™è¨€</text>
      </view>
    </view>
  </view>

  <view class='scroll-view' style='height:{{scrollViewHeight}}rpx;'>
    <scroll-view scroll-y="true" style='height: 100%'>
      <block wx:for-items="{{list}}">
        <view class='contains-view'>
          <view class='comment-floor-view'>
            <view><text>{{item.comment_ID}}</text></view>
            <view><text>æ¥¼</text></view>
          </view>
          
          <view class='left-line'></view>

          <view class='comment-right-view'>
            <view class='author-date-view'>
              <text class='comment-author'>{{item.comment_author}}</text>
              <text class='comment-date'>{{item.comment_date}}</text>
            </view>

            <view class='comment-content-view'>
              <view wx:if="{{item.comment_parent==='0'}}" class='comment-bottom-view'>
                <text class='comment-content-text'>{{item.comment_content}}</text>
              </view>

              <view wx:else class='comment-bottom-view'>
                <text class='reply-text'>å›å¤</text>
                <text class='floor-text'>{{item.comment_parent}}æ¥¼ï¼š</text>
                <text class='comment-content-text'>{{item.comment_content}}</text>
              </view>
              <view class='reply-btn-view'>
                <button id='{{item.comment_ID}}' class='reply-btn' bindtap='replyInput'>å›å¤</button>
              </view>
            </view>
          </view>
        </view>

        <view class='divLine'></view>
      </block>
    </scroll-view>
  </view>

  <modal hidden="{{replyHidden}}" title='å¡«å†™è¯„è®ºå†…å®¹' confir-text='å›å¤' cancel-text='å–æ¶ˆ' bindcancel='cancel' bindconfirm='confirm'>
    <input type='text' placeholder='è¯·å¡«å†™æ‚¨çš„æ˜µç§°' auto-focus='' bindinput='setNickName' value='{{nickName}}'></input>
    <view class='divLine'></view>
    <input type='text' placeholder='è¯·å¡«å†™æ‚¨çš„é‚®ç®±' auto-focus='' bindinput='setEmail' value='{{email}}'></input>
    <view class='divLine'></view>
    <textarea  type='text' placeholder='è¯·å¡«å†™è¯„è®ºå†…å®¹' auto-focus='' bindinput='setComment' value='{{messageContent}}'></textarea>
    <view class='divLine'></view>
  </modal>

  <modal hidden="{{messageHidden}}" title='å¡«å†™ç•™è¨€å†…å®¹' confir-text='ç¡®å®š' cancel-text='å–æ¶ˆ' bindcancel='cancel' bindconfirm='sendMessage'>
    <input type='text' placeholder='è¯·å¡«å†™æ‚¨çš„æ˜µç§°' auto-focus='' bindinput='setNickName' value='{{nickName}}'></input>
    <view class='divLine'></view>
    <input type='text' placeholder='è¯·å¡«å†™æ‚¨çš„é‚®ç®±' auto-focus='' bindinput='setEmail' value='{{email}}'></input>
    <view class='divLine'></view>
    <textarea type='text' placeholder='è¯·å¡«å†™ç•™è¨€å†…å®¹' auto-focus='' bindinput='setComment' value='{{messageContent}}'></textarea>
    <view class='divLine'></view>
  </modal>

  <modal hidden="{{tipHidden}}" title='æç¤ºï¼' confir-text='ç¡®å®š' cancel-text='å–æ¶ˆ' bindcancel='back' bindconfirm='back'>
    <text>{{tip}}</text>
  </modal>

</view>